{"version":3,"sources":["Area.js"],"names":["define","LiteGUI","Area","options","legacy","constructor","String","id","console","warn","root","document","createElement","className","this","litearea","width","height","Math","abs","style","that","_computed_size","offsetWidth","offserHeight","content","content_id","appendChild","split_direction","sections","autoresize","bind","onResize","VERTICAL","HORIZONTAL","splitbar_size","prototype","getSection","num","length","e","computed_size","offsetHeight","sendResizeEvent","i","j","childNodes","element","trigger","onresize","getWidth","getHeight","isVisible","display","adjustHeight","parentNode","y","getClientRects","top","error","split","direction","sizes","editable","area1","area2","splitinfo","splitbar","dynamic_section","addEventListener","doc","ownerDocument","inner_mousemove","inner_mouseup","last_pos","pageX","pageY","stopPropagation","preventDefault","h","size","h1","h2","w","w1","w2","removeChild","moveSplit","immediateResize","inmediateResize","removeEventListener","hide","show","showSection","section","indexOf","hideSection","delta","min_size","minSplitSize","areas","querySelectorAll","a","b","c","d","setAreaSize","area","merge","main_section","main","add","v","innerHTML","query","querySelector"],"mappings":"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","file":"../Area.js","sourcesContent":["//enclose in a scope\r\n\r\ndefine([\r\n\t\"./litegui\"\r\n],function(LiteGUI){\r\n\r\n\t\r\n\t/****************** AREA **************/\r\n\t/** An Area is am streched container.\r\n\t* Areas can be split several times horizontally or vertically to fit different colums or rows\r\n\t*\r\n\t* @class Area\r\n\t* @constructor\r\n\t* @param {Object} options\r\n\t*/\r\n\tfunction Area( options, legacy )\r\n\t{\r\n\t\t//for legacy code\r\n\t\tif( (options && options.constructor === String) || legacy )\r\n\t\t{\r\n\t\t\tvar id = options;\r\n\t\t\toptions = legacy || {};\r\n\t\t\toptions.id = id;\r\n\t\t\tconsole.warn(\"LiteGUI.Area legacy parameter, use options as first parameter instead of id.\");\r\n\t\t}\r\n\r\n\t\toptions = options || {};\r\n\t\t/* the root element containing all sections */\r\n\t\tvar root = document.createElement(\"div\");\r\n\t\troot.className = \"litearea\";\r\n\t\tif(options.id)\r\n\t\t\troot.id = options.id;\r\n\t\tif(options.className)\r\n\t\t\troot.className +=  \" \" + options.className;\r\n\r\n\t\tthis.root = root;\r\n\t\tthis.root.litearea = this; //dbl link\r\n\r\n\t\tvar width = options.width || \"100%\";\r\n\t\tvar height = options.height || \"100%\";\r\n\r\n\t\tif( width < 0 )\r\n\t\t\twidth = 'calc( 100% - '+Math.abs(width)+'px)';\r\n\t\tif( height < 0 )\r\n\t\t\theight = 'calc( 100% - '+ Math.abs(height)+'px)';\r\n\r\n\t\troot.style.width = width;\r\n\t\troot.style.height = height;\r\n\r\n\t\tthis.options = options;\r\n\r\n\t\tvar that = this;\r\n\t\tthis._computed_size = [ this.root.offsetWidth, this.root.offserHeight ];\r\n\r\n\t\tvar content = document.createElement(\"div\");\r\n\t\tif(options.content_id)\r\n\t\t\tcontent.id = options.content_id;\r\n\t\tcontent.className = \"liteareacontent\";\r\n\t\tcontent.style.width = \"100%\";\r\n\t\tcontent.style.height = \"100%\";\r\n\t\tthis.root.appendChild( content );\r\n\t\tthis.content = content;\r\n\r\n\t\tthis.split_direction = \"none\";\r\n\t\tthis.sections = [];\r\n\r\n\t\tif(options.autoresize)\r\n\t\t\tLiteGUI.bind( LiteGUI, \"resized\", function() { \r\n\t\t\t\tthat.onResize(); \r\n\t\t\t});\r\n\t}\r\n\r\n\tArea.VERTICAL = \"vertical\";\r\n\tArea.HORIZONTAL = \"horizontal\";\r\n\r\n\tArea.splitbar_size = 4;\r\n\r\n\t/* get container of the section */\r\n\tArea.prototype.getSection = function(num)\r\n\t{\r\n\t\tnum = num || 0;\r\n\t\tif(this.sections.length > num)\r\n\t\t\treturn this.sections[num];\r\n\t\treturn null;\r\n\t}\r\n\r\n\tArea.prototype.onResize = function(e)\r\n\t{\r\n\t\tvar computed_size = [ this.root.offsetWidth, this.root.offsetHeight ];\r\n\t\tif( e && this._computed_size && computed_size[0] == this._computed_size[0] && computed_size[1] == this._computed_size[1])\r\n\t\t\treturn;\r\n\r\n\t\tthis.sendResizeEvent(e);\r\n\t}\r\n\r\n\t//sends the resize event to all the sections\r\n\tArea.prototype.sendResizeEvent = function(e)\r\n\t{\r\n\t\tif(this.sections.length)\r\n\t\t\tfor(var i in this.sections)\r\n\t\t\t{\r\n\t\t\t\tvar section = this.sections[i];\r\n\t\t\t\tsection.onResize(e);\r\n\t\t\t}\r\n\t\telse //send it to the children\r\n\t\t{\r\n\t\t\tfor (var j = 0; j < this.root.childNodes.length; j++)\r\n\t\t\t{\r\n\t\t\t\tvar element = this.root.childNodes[j];\r\n\t\t\t\tif(element.litearea)\r\n\t\t\t\t\telement.litearea.onResize();\r\n\t\t\t\telse\r\n\t\t\t\t\tLiteGUI.trigger( element, \"resize\" );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//inner callback\r\n\t\tif( this.onresize )\r\n\t\t\tthis.onresize();\r\n\t}\r\n\r\n\tArea.prototype.getWidth = function()\r\n\t{\r\n\t\treturn this.root.offsetWidth;\r\n\t}\r\n\r\n\tArea.prototype.getHeight = function()\r\n\t{\r\n\t\treturn this.root.offsetHeight;\r\n\t}\r\n\r\n\tArea.prototype.isVisible = function()\r\n\t{\r\n\t\treturn this.root.style.display != \"none\";\t\r\n\t}\r\n\r\n\tArea.prototype.adjustHeight = function()\r\n\t{\r\n\t\tif(!this.root.parentNode)\r\n\t\t{\r\n\t\t\tconsole.error(\"Cannot adjust height of LiteGUI.Area without parent\");\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t//check parent height\r\n\t\tvar h = this.root.parentNode.offsetHeight;\r\n\r\n\t\t//check position\r\n\t\tvar y = this.root.getClientRects()[0].top;\r\n\r\n\t\t//adjust height\r\n\t\tthis.root.style.height = \"calc( 100% - \" + y + \"px )\";\r\n\t}\r\n\r\n\tArea.prototype.split = function( direction, sizes, editable )\r\n\t{\r\n\t\tif( !direction || direction.constructor !== String )\r\n\t\t\tthrow (\"First parameter must be a string: 'vertical' or 'horizontal'\");\r\n\r\n\t\tif( !sizes )\r\n\t\t\tsizes = [\"50%\",null];\r\n\r\n\t\tif( direction != \"vertical\" && direction != \"horizontal\" )\r\n\t\t\tthrow (\"First parameter must be a string: 'vertical' or 'horizontal'\");\r\n\r\n\t\tif(this.sections.length)\r\n\t\t\tthrow \"cannot split twice\";\r\n\r\n\t\t//create areas\r\n\t\tvar area1 = new LiteGUI.Area({ content_id: this.content.id });\r\n\t\tarea1.root.style.display = \"inline-block\";\r\n\t\tvar area2 = new LiteGUI.Area();\r\n\t\tarea2.root.style.display = \"inline-block\";\r\n\r\n\t\tvar splitinfo = \"\";\r\n\t\tvar splitbar = null;\r\n\t\tvar dynamic_section = null;\r\n\t\tif(editable)\r\n\t\t{\r\n\t\t\tsplitinfo = \" - \" + (Area.splitbar_size + 2) +\"px\"; //2 px margin ï¿½?\r\n\t\t\tsplitbar = document.createElement(\"div\");\r\n\t\t\tsplitbar.className = \"litesplitbar \" + direction;\r\n\t\t\tif(direction == \"vertical\")\r\n\t\t\t\tsplitbar.style.height = Area.splitbar_size + \"px\";\r\n\t\t\telse\r\n\t\t\t\tsplitbar.style.width = Area.splitbar_size + \"px\";\r\n\t\t\tthis.splitbar = splitbar;\r\n\t\t\tsplitbar.addEventListener(\"mousedown\", inner_mousedown);\r\n\t\t}\r\n\r\n\t\tsizes = sizes || [\"50%\",null];\r\n\r\n\t\tif(direction == \"vertical\")\r\n\t\t{\r\n\t\t\tarea1.root.style.width = \"100%\";\r\n\t\t\tarea2.root.style.width = \"100%\";\r\n\r\n\t\t\tif(sizes[0] == null)\r\n\t\t\t{\r\n\t\t\t\tvar h = sizes[1];\r\n\t\t\t\tif(typeof(h) == \"number\")\r\n\t\t\t\t\th = sizes[1] + \"px\";\r\n\r\n\t\t\t\tarea1.root.style.height = \"-moz-calc( 100% - \" + h + splitinfo + \" )\";\r\n\t\t\t\tarea1.root.style.height = \"-webkit-calc( 100% - \" + h + splitinfo + \" )\";\r\n\t\t\t\tarea1.root.style.height = \"calc( 100% - \" + h + splitinfo + \" )\";\r\n\t\t\t\tarea2.root.style.height = h;\r\n\t\t\t\tarea2.size = h;\r\n\t\t\t\tdynamic_section = area1;\r\n\t\t\t}\r\n\t\t\telse if(sizes[1] == null)\r\n\t\t\t{\r\n\t\t\t\tvar h = sizes[0];\r\n\t\t\t\tif(typeof(h) == \"number\")\r\n\t\t\t\t\th = sizes[0] + \"px\";\r\n\r\n\t\t\t\tarea1.root.style.height = h;\r\n\t\t\t\tarea1.size = h;\r\n\t\t\t\tarea2.root.style.height = \"-moz-calc( 100% - \" + h + splitinfo + \" )\";\r\n\t\t\t\tarea2.root.style.height = \"-webkit-calc( 100% - \" + h + splitinfo + \" )\";\r\n\t\t\t\tarea2.root.style.height = \"calc( 100% - \" + h + splitinfo + \" )\";\r\n\t\t\t\tdynamic_section = area2;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvar h1 = sizes[0];\r\n\t\t\t\tif(typeof(h1) == \"number\")\r\n\t\t\t\t\th1 = sizes[0] + \"px\";\r\n\t\t\t\tvar h2 = sizes[1];\r\n\t\t\t\tif(typeof(h2) == \"number\")\r\n\t\t\t\t\th2 = sizes[1] + \"px\";\r\n\t\t\t\tarea1.root.style.height = h1;\r\n\t\t\t\tarea1.size = h1;\r\n\t\t\t\tarea2.root.style.height = h2;\r\n\t\t\t\tarea2.size = h2;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse //horizontal\r\n\t\t{\r\n\t\t\tarea1.root.style.height = \"100%\";\r\n\t\t\tarea2.root.style.height = \"100%\";\r\n\r\n\t\t\tif(sizes[0] == null)\r\n\t\t\t{\r\n\t\t\t\tvar w = sizes[1];\r\n\t\t\t\tif(typeof(w) == \"number\")\r\n\t\t\t\t\tw = sizes[1] + \"px\";\r\n\t\t\t\tarea1.root.style.width = \"-moz-calc( 100% - \" + w + splitinfo + \" )\";\r\n\t\t\t\tarea1.root.style.width = \"-webkit-calc( 100% - \" + w + splitinfo + \" )\";\r\n\t\t\t\tarea1.root.style.width = \"calc( 100% - \" + w + splitinfo + \" )\";\r\n\t\t\t\tarea2.root.style.width = w;\r\n\t\t\t\tarea2.size = sizes[1];\r\n\t\t\t\tdynamic_section = area1;\r\n\t\t\t}\r\n\t\t\telse if(sizes[1] == null)\r\n\t\t\t{\r\n\t\t\t\tvar w = sizes[0];\r\n\t\t\t\tif(typeof(w) == \"number\")\r\n\t\t\t\t\tw = sizes[0] + \"px\";\r\n\r\n\t\t\t\tarea1.root.style.width = w;\r\n\t\t\t\tarea1.size = w;\r\n\t\t\t\tarea2.root.style.width = \"-moz-calc( 100% - \" + w + splitinfo + \" )\";\r\n\t\t\t\tarea2.root.style.width = \"-webkit-calc( 100% - \" + w + splitinfo + \" )\";\r\n\t\t\t\tarea2.root.style.width = \"calc( 100% - \" + w + splitinfo + \" )\";\r\n\t\t\t\tdynamic_section = area2;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvar w1 = sizes[0];\r\n\t\t\t\tif(typeof(w1) == \"number\")\r\n\t\t\t\t\tw1 = sizes[0] + \"px\";\r\n\t\t\t\tvar w2 = sizes[1];\r\n\t\t\t\tif(typeof(w2) == \"number\")\r\n\t\t\t\t\tw2 = sizes[1] + \"px\";\r\n\r\n\t\t\t\tarea1.root.style.width = w1;\r\n\t\t\t\tarea1.size = w1;\r\n\t\t\t\tarea2.root.style.width = w2;\r\n\t\t\t\tarea2.size = w2;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tarea1.root.removeChild( area1.content );\r\n\t\tarea1.root.appendChild( this.content );\r\n\t\tarea1.content = this.content;\r\n\r\n\t\tthis.root.appendChild( area1.root );\r\n\t\tif(splitbar)\r\n\t\t\tthis.root.appendChild( splitbar );\r\n\t\tthis.root.appendChild( area2.root );\r\n\r\n\t\tthis.sections = [area1, area2];\r\n\t\tthis.dynamic_section = dynamic_section;\r\n\t\tthis.direction = direction;\r\n\r\n\t\t//SPLITTER DRAGGER INTERACTION\r\n\t\tvar that = this;\r\n\t\tvar last_pos = [0,0];\r\n\t\tfunction inner_mousedown(e)\r\n\t\t{\r\n\t\t\tvar doc = that.root.ownerDocument;\r\n\t\t\tdoc.addEventListener(\"mousemove\",inner_mousemove);\r\n\t\t\tdoc.addEventListener(\"mouseup\",inner_mouseup);\r\n\t\t\tlast_pos[0] = e.pageX;\r\n\t\t\tlast_pos[1] = e.pageY;\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\r\n\t\tfunction inner_mousemove(e)\r\n\t\t{\r\n\t\t\tif(direction == \"horizontal\")\r\n\t\t\t{\r\n\t\t\t\tif (last_pos[0] != e.pageX)\r\n\t\t\t\t\tthat.moveSplit(last_pos[0] - e.pageX);\r\n\t\t\t}\r\n\t\t\telse if(direction == \"vertical\")\r\n\t\t\t{\r\n\t\t\t\tif (last_pos[1] != e.pageY)\r\n\t\t\t\t\tthat.moveSplit(e.pageY - last_pos[1]);\r\n\t\t\t}\r\n\r\n\t\t\tlast_pos[0] = e.pageX;\r\n\t\t\tlast_pos[1] = e.pageY;\r\n\t\t\te.stopPropagation();\r\n\t\t\te.preventDefault();\r\n\t\t\tif(that.options.immediateResize || that.options.inmediateResize) //inmediate is for legacy...\r\n\t\t\t\tthat.onResize();\r\n\t\t}\r\n\r\n\t\tfunction inner_mouseup(e)\r\n\t\t{\r\n\t\t\tvar doc = that.root.ownerDocument;\r\n\t\t\tdoc.removeEventListener(\"mousemove\",inner_mousemove);\r\n\t\t\tdoc.removeEventListener(\"mouseup\",inner_mouseup);\r\n\t\t\tthat.onResize();\r\n\t\t}\r\n\t}\r\n\r\n\tArea.prototype.hide = function()\r\n\t{\r\n\t\tthis.root.style.display = \"none\";\r\n\t}\r\n\r\n\tArea.prototype.show = function()\r\n\t{\r\n\t\tthis.root.style.display = \"block\";\r\n\t}\r\n\r\n\tArea.prototype.showSection = function(num)\r\n\t{\r\n\t\tvar section = this.sections[num];\r\n\t\tvar size = 0;\r\n\r\n\t\tif( section && section.root.style.display != \"none\" )\r\n\t\t\treturn; //already visible\r\n\t\t\r\n\t\tif(this.direction == \"horizontal\")\r\n\t\t\tsize = section.root.style.width;\r\n\t\telse\r\n\t\t\tsize = section.root.style.height;\r\n\r\n\t\tif(size.indexOf(\"calc\") != -1)\r\n\t\t\tsize = \"50%\";\r\n\r\n\t\tfor(var i in this.sections)\r\n\t\t{\r\n\t\t\tvar section = this.sections[i];\r\n\r\n\t\t\tif(i == num)\r\n\t\t\t\tsection.root.style.display = \"inline-block\";\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(this.direction == \"horizontal\")\r\n\t\t\t\t\tsection.root.style.width = \"calc( 100% - \" + size + \" - 5px)\";\r\n\t\t\t\telse\r\n\t\t\t\t\tsection.root.style.height = \"calc( 100% - \" + size + \" - 5px)\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(this.splitbar)\r\n\t\t\tthis.splitbar.style.display = \"inline-block\";\r\n\r\n\t\tthis.sendResizeEvent();\r\n\t}\r\n\r\n\tArea.prototype.hideSection = function(num)\r\n\t{\r\n\t\tfor(var i in this.sections)\r\n\t\t{\r\n\t\t\tvar section = this.sections[i];\r\n\r\n\t\t\tif(i == num)\r\n\t\t\t\tsection.root.style.display = \"none\";\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif(this.direction == \"horizontal\")\r\n\t\t\t\t\tsection.root.style.width = \"100%\";\r\n\t\t\t\telse\r\n\t\t\t\t\tsection.root.style.height = \"100%\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(this.splitbar)\r\n\t\t\tthis.splitbar.style.display = \"none\";\r\n\r\n\t\tthis.sendResizeEvent();\r\n\t}\r\n\r\n\tArea.prototype.moveSplit = function(delta)\r\n\t{\r\n\t\tif(!this.sections) return;\r\n\r\n\t\tvar area1 = this.sections[0];\r\n\t\tvar area2 = this.sections[1];\r\n\t\tvar splitinfo = \" - \"+ Area.splitbar_size +\"px\";\r\n\r\n\t\tvar min_size = this.options.minSplitSize || 10;\r\n\r\n\t\tif(this.direction == \"horizontal\")\r\n\t\t{\r\n\r\n\t\t\tif (this.dynamic_section == area1)\r\n\t\t\t{\r\n\t\t\t\tvar size = (area2.root.offsetWidth + delta);\r\n\t\t\t\tif(size < min_size)\r\n\t\t\t\t\tsize = min_size;\r\n\t\t\t\tarea1.root.style.width = \"-moz-calc( 100% - \" + size + \"px \" + splitinfo + \" )\";\r\n\t\t\t\tarea1.root.style.width = \"-webkit-calc( 100% - \" + size + \"px \" + splitinfo + \" )\";\r\n\t\t\t\tarea1.root.style.width = \"calc( 100% - \" + size + \"px \" + splitinfo + \" )\";\r\n\t\t\t\tarea2.root.style.width = size + \"px\"; //other split\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvar size = (area1.root.offsetWidth - delta);\r\n\t\t\t\tif(size < min_size)\r\n\t\t\t\t\tsize = min_size;\r\n\t\t\t\tarea2.root.style.width = \"-moz-calc( 100% - \" + size + \"px \" + splitinfo + \" )\";\r\n\t\t\t\tarea2.root.style.width = \"-webkit-calc( 100% - \" + size + \"px \" + splitinfo + \" )\";\r\n\t\t\t\tarea2.root.style.width = \"calc( 100% - \" + size + \"px \" + splitinfo + \" )\";\r\n\t\t\t\tarea1.root.style.width = size + \"px\"; //other split\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if(this.direction == \"vertical\")\r\n\t\t{\r\n\t\t\tif (this.dynamic_section == area1)\r\n\t\t\t{\r\n\t\t\t\tvar size = (area2.root.offsetHeight - delta);\r\n\t\t\t\tif(size < min_size)\r\n\t\t\t\t\tsize = min_size;\r\n\t\t\t\tarea1.root.style.height = \"-moz-calc( 100% - \" + size + \"px \" + splitinfo + \" )\";\r\n\t\t\t\tarea1.root.style.height = \"-webkit-calc( 100% - \" + size + \"px \" + splitinfo + \" )\";\r\n\t\t\t\tarea1.root.style.height = \"calc( 100% - \" + size + \"px \" + splitinfo + \" )\";\r\n\t\t\t\tarea2.root.style.height = size + \"px\"; //other split\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tvar size = (area1.root.offsetHeight + delta);\r\n\t\t\t\tif(size < min_size)\r\n\t\t\t\t\tsize = min_size;\r\n\t\t\t\tarea2.root.style.height = \"-moz-calc( 100% - \" + size + \"px \" + splitinfo + \" )\";\r\n\t\t\t\tarea2.root.style.height = \"-webkit-calc( 100% - \" + size + \"px \" + splitinfo + \" )\";\r\n\t\t\t\tarea2.root.style.height = \"calc( 100% - \" + size + \"px \" + splitinfo + \" )\";\r\n\t\t\t\tarea1.root.style.height = size + \"px\"; //other split\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tLiteGUI.trigger( this.root, \"split_moved\");\r\n\t\t//trigger split_moved event in all areas inside this area\r\n\t\tvar areas = this.root.querySelectorAll(\".litearea\");\r\n\t\tfor(var i = 0; i < areas.length; ++i)\r\n\t\t\tLiteGUI.trigger( areas[i], \"split_moved\" );\r\n\t}\r\n\r\n\tArea.prototype.addEventListener = function(a,b,c,d)\r\n\t{\r\n\t\treturn this.root.addEventListener(a,b,c,d);\r\n\t}\r\n\r\n\tArea.prototype.setAreaSize = function(area,size)\r\n\t{\r\n\t\tvar element = this.sections[1];\r\n\r\n\t\tvar splitinfo = \" - \"+Area.splitbar_size+\"px\";\r\n\t\telement.root.style.width = \"-moz-calc( 100% - \" + size + splitinfo + \" )\";\r\n\t\telement.root.style.width = \"-webkit-calc( 100% - \" + size + splitinfo + \" )\";\r\n\t\telement.root.style.width = \"calc( 100% - \" + size + splitinfo + \" )\";\r\n\t}\r\n\r\n\tArea.prototype.merge = function(main_section)\r\n\t{\r\n\t\tif(this.sections.length == 0) throw \"not splitted\";\r\n\r\n\t\tvar main = this.sections[main_section || 0];\r\n\r\n\t\tthis.root.appendChild( main.content );\r\n\t\tthis.content = main.content;\r\n\r\n\t\tthis.root.removeChild( this.sections[0].root );\r\n\t\tthis.root.removeChild( this.sections[1].root );\r\n\r\n\t\t/*\r\n\t\twhile(main.childNodes.length > 0)\r\n\t\t{\r\n\t\t\tvar e = main.childNodes[0];\r\n\t\t\tthis.root.appendChild(e);\r\n\t\t}\r\n\r\n\t\tthis.root.removeChild( this.sections[0].root );\r\n\t\tthis.root.removeChild( this.sections[1].root );\r\n\t\t*/\r\n\r\n\t\tthis.sections = [];\r\n\t\tthis._computed_size = null;\r\n\t\tthis.onResize();\r\n\t}\r\n\r\n\tArea.prototype.add = function(v)\r\n\t{\r\n\t\tif(typeof(v) == \"string\")\r\n\t\t{\r\n\t\t\tvar element = document.createElement(\"div\");\r\n\t\t\telement.innerHTML = v;\r\n\t\t\tv = element;\r\n\t\t}\r\n\r\n\t\tthis.content.appendChild( v.root || v );\r\n\t}\r\n\r\n\tArea.prototype.query = function(v)\r\n\t{\r\n\t\treturn this.root.querySelector(v);\r\n\t}\r\n\r\n\treturn LiteGUI.Area = Area;\r\n});"]}