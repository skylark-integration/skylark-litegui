/**
 * skylark-litegui - A version of litegui.js  that ported to running on skylarkjs.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-litegui/
 * @license MIT
 */
define(["./litegui"],function(t){function e(e,o){if(e&&e.constructor===String||o){var i=e;(e=o||{}).id=i,console.warn("LiteGUI.Area legacy parameter, use options as first parameter instead of id.")}e=e||{};var s=document.createElement("div");s.className="litearea",e.id&&(s.id=e.id),e.className&&(s.className+=" "+e.className),this.root=s,this.root.litearea=this;var r=e.width||"100%",n=e.height||"100%";r<0&&(r="calc( 100% - "+Math.abs(r)+"px)"),n<0&&(n="calc( 100% - "+Math.abs(n)+"px)"),s.style.width=r,s.style.height=n,this.options=e;var l=this;this._computed_size=[this.root.offsetWidth,this.root.offserHeight];var h=document.createElement("div");e.content_id&&(h.id=e.content_id),h.className="liteareacontent",h.style.width="100%",h.style.height="100%",this.root.appendChild(h),this.content=h,this.split_direction="none",this.sections=[],e.autoresize&&t.bind(t,"resized",function(){l.onResize()})}return e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e.splitbar_size=4,e.prototype.getSection=function(t){return t=t||0,this.sections.length>t?this.sections[t]:null},e.prototype.onResize=function(t){var e=[this.root.offsetWidth,this.root.offsetHeight];t&&this._computed_size&&e[0]==this._computed_size[0]&&e[1]==this._computed_size[1]||this.sendResizeEvent(t)},e.prototype.sendResizeEvent=function(e){if(this.sections.length)for(var o in this.sections){this.sections[o].onResize(e)}else for(var i=0;i<this.root.childNodes.length;i++){var s=this.root.childNodes[i];s.litearea?s.litearea.onResize():t.trigger(s,"resize")}this.onresize&&this.onresize()},e.prototype.getWidth=function(){return this.root.offsetWidth},e.prototype.getHeight=function(){return this.root.offsetHeight},e.prototype.isVisible=function(){return"none"!=this.root.style.display},e.prototype.adjustHeight=function(){if(this.root.parentNode){this.root.parentNode.offsetHeight;var t=this.root.getClientRects()[0].top;this.root.style.height="calc( 100% - "+t+"px )"}else console.error("Cannot adjust height of LiteGUI.Area without parent")},e.prototype.split=function(o,i,s){if(!o||o.constructor!==String)throw"First parameter must be a string: 'vertical' or 'horizontal'";if(i||(i=["50%",null]),"vertical"!=o&&"horizontal"!=o)throw"First parameter must be a string: 'vertical' or 'horizontal'";if(this.sections.length)throw"cannot split twice";var r=new t.Area({content_id:this.content.id});r.root.style.display="inline-block";var n=new t.Area;n.root.style.display="inline-block";var l="",h=null,a=null;if(s&&(l=" - "+(e.splitbar_size+2)+"px",(h=document.createElement("div")).className="litesplitbar "+o,"vertical"==o?h.style.height=e.splitbar_size+"px":h.style.width=e.splitbar_size+"px",this.splitbar=h,h.addEventListener("mousedown",function(t){var e=g.root.ownerDocument;e.addEventListener("mousemove",m),e.addEventListener("mouseup",z),v[0]=t.pageX,v[1]=t.pageY,t.stopPropagation(),t.preventDefault()})),i=i||["50%",null],"vertical"==o)if(r.root.style.width="100%",n.root.style.width="100%",null==i[0])"number"==typeof(c=i[1])&&(c=i[1]+"px"),r.root.style.height="-moz-calc( 100% - "+c+l+" )",r.root.style.height="-webkit-calc( 100% - "+c+l+" )",r.root.style.height="calc( 100% - "+c+l+" )",n.root.style.height=c,n.size=c,a=r;else if(null==i[1]){var c;"number"==typeof(c=i[0])&&(c=i[0]+"px"),r.root.style.height=c,r.size=c,n.root.style.height="-moz-calc( 100% - "+c+l+" )",n.root.style.height="-webkit-calc( 100% - "+c+l+" )",n.root.style.height="calc( 100% - "+c+l+" )",a=n}else{var p=i[0];"number"==typeof p&&(p=i[0]+"px");var d=i[1];"number"==typeof d&&(d=i[1]+"px"),r.root.style.height=p,r.size=p,n.root.style.height=d,n.size=d}else if(r.root.style.height="100%",n.root.style.height="100%",null==i[0])"number"==typeof(y=i[1])&&(y=i[1]+"px"),r.root.style.width="-moz-calc( 100% - "+y+l+" )",r.root.style.width="-webkit-calc( 100% - "+y+l+" )",r.root.style.width="calc( 100% - "+y+l+" )",n.root.style.width=y,n.size=i[1],a=r;else if(null==i[1]){var y;"number"==typeof(y=i[0])&&(y=i[0]+"px"),r.root.style.width=y,r.size=y,n.root.style.width="-moz-calc( 100% - "+y+l+" )",n.root.style.width="-webkit-calc( 100% - "+y+l+" )",n.root.style.width="calc( 100% - "+y+l+" )",a=n}else{var f=i[0];"number"==typeof f&&(f=i[0]+"px");var u=i[1];"number"==typeof u&&(u=i[1]+"px"),r.root.style.width=f,r.size=f,n.root.style.width=u,n.size=u}r.root.removeChild(r.content),r.root.appendChild(this.content),r.content=this.content,this.root.appendChild(r.root),h&&this.root.appendChild(h),this.root.appendChild(n.root),this.sections=[r,n],this.dynamic_section=a,this.direction=o;var g=this,v=[0,0];function m(t){"horizontal"==o?v[0]!=t.pageX&&g.moveSplit(v[0]-t.pageX):"vertical"==o&&v[1]!=t.pageY&&g.moveSplit(t.pageY-v[1]),v[0]=t.pageX,v[1]=t.pageY,t.stopPropagation(),t.preventDefault(),(g.options.immediateResize||g.options.inmediateResize)&&g.onResize()}function z(t){var e=g.root.ownerDocument;e.removeEventListener("mousemove",m),e.removeEventListener("mouseup",z),g.onResize()}},e.prototype.hide=function(){this.root.style.display="none"},e.prototype.show=function(){this.root.style.display="block"},e.prototype.showSection=function(t){var e=0;if(!(i=this.sections[t])||"none"==i.root.style.display){for(var o in-1!=(e="horizontal"==this.direction?i.root.style.width:i.root.style.height).indexOf("calc")&&(e="50%"),this.sections){var i=this.sections[o];o==t?i.root.style.display="inline-block":"horizontal"==this.direction?i.root.style.width="calc( 100% - "+e+" - 5px)":i.root.style.height="calc( 100% - "+e+" - 5px)"}this.splitbar&&(this.splitbar.style.display="inline-block"),this.sendResizeEvent()}},e.prototype.hideSection=function(t){for(var e in this.sections){var o=this.sections[e];e==t?o.root.style.display="none":"horizontal"==this.direction?o.root.style.width="100%":o.root.style.height="100%"}this.splitbar&&(this.splitbar.style.display="none"),this.sendResizeEvent()},e.prototype.moveSplit=function(o){if(this.sections){var i=this.sections[0],s=this.sections[1],r=" - "+e.splitbar_size+"px",n=this.options.minSplitSize||10;if("horizontal"==this.direction)if(this.dynamic_section==i)(l=s.root.offsetWidth+o)<n&&(l=n),i.root.style.width="-moz-calc( 100% - "+l+"px "+r+" )",i.root.style.width="-webkit-calc( 100% - "+l+"px "+r+" )",i.root.style.width="calc( 100% - "+l+"px "+r+" )",s.root.style.width=l+"px";else(l=i.root.offsetWidth-o)<n&&(l=n),s.root.style.width="-moz-calc( 100% - "+l+"px "+r+" )",s.root.style.width="-webkit-calc( 100% - "+l+"px "+r+" )",s.root.style.width="calc( 100% - "+l+"px "+r+" )",i.root.style.width=l+"px";else if("vertical"==this.direction){var l;if(this.dynamic_section==i)(l=s.root.offsetHeight-o)<n&&(l=n),i.root.style.height="-moz-calc( 100% - "+l+"px "+r+" )",i.root.style.height="-webkit-calc( 100% - "+l+"px "+r+" )",i.root.style.height="calc( 100% - "+l+"px "+r+" )",s.root.style.height=l+"px";else(l=i.root.offsetHeight+o)<n&&(l=n),s.root.style.height="-moz-calc( 100% - "+l+"px "+r+" )",s.root.style.height="-webkit-calc( 100% - "+l+"px "+r+" )",s.root.style.height="calc( 100% - "+l+"px "+r+" )",i.root.style.height=l+"px"}t.trigger(this.root,"split_moved");for(var h=this.root.querySelectorAll(".litearea"),a=0;a<h.length;++a)t.trigger(h[a],"split_moved")}},e.prototype.addEventListener=function(t,e,o,i){return this.root.addEventListener(t,e,o,i)},e.prototype.setAreaSize=function(t,o){var i=this.sections[1],s=" - "+e.splitbar_size+"px";i.root.style.width="-moz-calc( 100% - "+o+s+" )",i.root.style.width="-webkit-calc( 100% - "+o+s+" )",i.root.style.width="calc( 100% - "+o+s+" )"},e.prototype.merge=function(t){if(0==this.sections.length)throw"not splitted";var e=this.sections[t||0];this.root.appendChild(e.content),this.content=e.content,this.root.removeChild(this.sections[0].root),this.root.removeChild(this.sections[1].root),this.sections=[],this._computed_size=null,this.onResize()},e.prototype.add=function(t){if("string"==typeof t){var e=document.createElement("div");e.innerHTML=t,t=e}this.content.appendChild(t.root||t)},e.prototype.query=function(t){return this.root.querySelector(t)},t.Area=e});
//# sourceMappingURL=sourcemaps/Split.js.map
